{
    "projects": [
        {
            "uuid": "1efe6286-b2ba-6f00-a1f2-55f061837da4",
            "title": "sadsad",
            "description": "",
            "parameter": {
                "numbers": [
                    {
                        "name": "frameCount",
                        "value": false,
                        "s": false
                    }
                ],
                "strings": [
                    {
                        "name": "root",
                        "value": "G:\\Developer\\Funique\\4DGS_需求說明\\Test"
                    },
                    {
                        "name": "prepare",
                        "value": "Prepare"
                    },
                    {
                        "name": "before",
                        "value": "before"
                    },
                    {
                        "name": "after",
                        "value": "after"
                    },
                    {
                        "name": "CAM",
                        "value": "CAM"
                    },
                    {
                        "name": "images",
                        "value": "images"
                    },
                    {
                        "name": "sparse",
                        "value": "sparse"
                    }
                ],
                "booleans": [
                    {
                        "name": "EEE",
                        "value": 0,
                        "s": false
                    },
                    {
                        "name": "Test",
                        "value": 0
                    }
                ]
            },
            "task": [
                {
                    "uuid": "1efe6286-b2bd-6611-a09e-d363ebe16d5a",
                    "title": "整理階段",
                    "description": "從原始資料夾結構 弄成可以工作的樣子",
                    "cronjob": false,
                    "cronjobKey": "",
                    "jobs": [
                        {
                            "uuid": "1efe6286-b2ba-6f01-8c24-89b72ffba512",
                            "type": 6,
                            "lua": "-- 根據第一版本資料整理的方案 22\n-- 這個會需要數個 環境變數才能順利運作\n\n-- 準備環境變數 路徑\nlocal root = getstring('root')\nlocal prepare_folder = getstring('prepare')\nlocal before_folder = getstring('before')\nlocal after_folder = getstring('after')\n\n-- 準備環境變數 字串\nlocal CAM = getstring('CAM')\nlocal images = getstring('images')\nlocal sparse = getstring('sparse')\n\n-- 得到準備資料夾的 攝影機資料夾列表\nlocal prepare_folders = os.listdir(root..\"/\"..prepare_folder)\n\n-- 攝影機數目\nlocal cam_size = #(prepare_folders)\n\n-- 偵測偵的數目\nlocal frame_size = 0\nif cam_size > 0 then\n    local f1_files = os.listfile(root..\"/\"..prepare_folder..\"/\"..CAM..\"/\"..prepare_folders[1])\n    frame_size = #(f1_files)\nend\n\n-- 生成資料夾\nos.createdir(root..\"/\"..before_folder..\"/\"..CAM)\n\n-- 複製 sparse\nos.copydir(root..\"/\"..prepare_folder..\"/\"..sparse, root..\"/\"..before_folder..\"/\"..sparse)\n\n-- 複製照片 跟 建立 out 資料夾\nfor key=1,frame_size,1 do\n    os.createdir(root..\"/\"..before_folder..\"/\"..CAM..\"/C\"..string.format(\"%06d\", key))\n    os.createdir(root..\"/\"..before_folder..\"/\"..CAM..\"/C\"..string.format(\"%06d\", key)..\"/\"..\"out\")\n    for key2=1,cam_size,1 do\n        local from = root..\"/\"..prepare_folder..\"/\"..CAM..\"/C\"..string.format(\"%04d\", key2)..\"/\"..string.format(\"%04d\", key2)..\"_\"..string.format(\"%06d\", key)..\".jpg\"\n        local to = root..\"/\"..before_folder..\"/\"..CAM..\"/C\"..string.format(\"%06d\", key)..\"/\"..string.format(\"%04d\", key2)..\".jpg\"\n        os.copyfile(from, to)\n    end\nend\n",
                            "string_args": [],
                            "number_args": [],
                            "boolean_args": []
                        }
                    ]
                },
                {
                    "uuid": "1efe6286-b2bd-6612-a3f0-91f11b0c7777",
                    "title": "運算階段",
                    "description": "正式開始進行演算",
                    "cronjob": true,
                    "cronjobKey": "frameCount",
                    "jobs": [
                        {
                            "uuid": "1efe6286-b2ba-6f02-b7ea-acaf2d989afa",
                            "type": 5,
                            "lua": "",
                            "string_args": [
                                "%root%/%after%/%ck%"
                            ],
                            "number_args": [],
                            "boolean_args": []
                        },
                        {
                            "uuid": "1efe6286-b2bd-6610-b59d-454268327f67",
                            "type": 7,
                            "lua": "",
                            "string_args": [
                                "%root%/%after%/%ck%",
                                "colmap",
                                "..."
                            ],
                            "number_args": [],
                            "boolean_args": []
                        }
                    ]
                },
                {
                    "uuid": "1efe6286-b2bd-6613-9763-d766aa1e1606",
                    "title": "總結",
                    "description": "最後的工作階段",
                    "cronjob": false,
                    "cronjobKey": "",
                    "jobs": []
                }
            ]
        }
    ],
    "nodes": []
}